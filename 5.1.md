# 树的存储表示法

由于树不是线性结构，所以需要通过一些转换对其进行存储，通常有以下几种表示方式。

![tree_common](./img/tree_common.jpg)

以上图所示的普通树为例，分析针对它的不同存储方式。

### 双亲表示法

index表示数组下标(从0开始)，data是存储数据值，parent是双亲结点的下标(-1表示不存在)。

| index | data | parent |
| :---: | :---: | :---: |
| 0 | 8 | -1 |
| 1 | 6 | 0 |
| 2 | 3 | 0 |
| 3 | 4 | 1 |
| 4 | 7 | 1 |
| 5 | 2 | 2 |
| 6 | 1 | 3 |
| 7 | 5 | 3 |
| 8 | 0 | 3 |
| 9 | 9 | 4 |

### 孩子表示法

index表示数组下标(从0开始)，data是存储数据值，child是一个链表地址，从左到右依次存储其孩子结点，为空表示没有孩子结点。

| index | data | child |  comment |
| :---: | :---: | :---: | :---: |
| 0 | 8 | &node1 | &node1是孩子结点链表地址 |
| 1 | 6 | &node2 | &node2是孩子结点链表地址 |
| 2 | 3 | &node3 | &node3是孩子结点链表地址 |
| 3 | 4 | &node4 | &node4是孩子结点链表地址 |
| 4 | 7 | &node5 | &node5是孩子结点链表地址 |
| 5 | 2 | nil | 叶子结点没有孩子结点 |
| 6 | 1 | nil | 叶子结点没有孩子结点 |
| 7 | 5 | nil | 叶子结点没有孩子结点 |
| 8 | 0 | nil | 叶子结点没有孩子结点 |
| 9 | 9 | nil | 叶子结点没有孩子结点 |

```
node中的data数据域存储的是结点数组的index值
 _______          _______
|       |        |       |
|   1   |------> |   2   |  node1
|_______|        |_______|

 _______          _______
|       |        |       |
|   3   |------> |   4   |  node2
|_______|        |_______|

 _______
|       |
|   5   | node3
|_______|

 _______          _______          _______
|       |        |       |        |       |
|   6   |------> |   7   |------> |   8   |  node4
|_______|        |_______|        |_______|

 _______
|       |
|   9   | node5
|_______|

```

### 双亲孩子表示法

该表示法是双亲表示法和孩子表示法的混合体。

| index | data | parent | child |
| :---: | :---: | :---: | :---: |
| 0 | 8 | -1 | &node1 |
| 1 | 6 | 0 | &node2 |
| 2 | 3 | 0 | &node3 |
| 3 | 4 | 1 | &node4 |
| 4 | 7 | 1 | &node5 |
| 5 | 2 | 2 | nil |
| 6 | 1 | 3 | nil |
| 7 | 5 | 3 | nil |
| 8 | 0 | 3 | nil |
| 9 | 9 | 4 | nil |

***node1-5的结构与孩子表示法一致***

### 孩子兄弟表示法

child存储的是第一个孩子结点的索引，sibling存储的是右兄弟结点的索引。

| index | data | child | sibling |
| :---: | :---: | :---: | :---: |
| 0 | 8 | 1 | -1 |
| 1 | 6 | 3 | 2 |
| 2 | 3 | 5 | -1 |
| 3 | 4 | 6 | 4 |
| 4 | 7 | 9 | -1 |
| 5 | 2 | -1 | -1 |
| 6 | 1 | -1 | 7 |
| 7 | 5 | -1 | 8 |
| 8 | 0 | -1 | -1 |
| 9 | 9 | -1 | -1 |
